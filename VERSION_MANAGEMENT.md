# ë²„ì „ ê´€ë¦¬ ê°€ì´ë“œ

## ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **Semantic Versioning (SemVer)**ì„ ì‚¬ìš©í•˜ì—¬ ë²„ì „ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
ì½”ë“œ ë¡¤ë°± ì‹œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

## ë²„ì „ ë²ˆí˜¸ ì²´ê³„

```
vë©”ì´ì €.ë§ˆì´ë„ˆ.íŒ¨ì¹˜
ì˜ˆ: v1.2.3
```

- **ë©”ì´ì € (Major)**: ëŒ€ê·œëª¨ ë³€ê²½, í•˜ìœ„ í˜¸í™˜ì„± ì—†ìŒ (1.0.0 â†’ 2.0.0)
- **ë§ˆì´ë„ˆ (Minor)**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ (1.0.0 â†’ 1.1.0)
- **íŒ¨ì¹˜ (Patch)**: ë²„ê·¸ ìˆ˜ì •, ì‘ì€ ê°œì„  (1.0.0 â†’ 1.0.1)

## í˜„ì¬ ë²„ì „

```bash
# í˜„ì¬ ë²„ì „ í™•ì¸
git describe --tags --abbrev=0

# ëª¨ë“  ë²„ì „ ëª©ë¡ ë³´ê¸°
git tag -l --sort=-v:refname
```

## ìƒˆ ë²„ì „ ìƒì„±í•˜ê¸°

### ë°©ë²• 1: ìë™ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ì¶”ì²œ)

```bash
# ê¸°ëŠ¥ ì¶”ê°€ ì‹œ (ë§ˆì´ë„ˆ ë²„ì „)
bin/create-version minor "ì¬ê³  ë¦¬í¬íŠ¸ ê¸°ëŠ¥ ì¶”ê°€"

# ë²„ê·¸ ìˆ˜ì • ì‹œ (íŒ¨ì¹˜ ë²„ì „)
bin/create-version patch "ì…ê³  ë‚ ì§œ ë²„ê·¸ ìˆ˜ì •"

# ëŒ€ê·œëª¨ ë³€ê²½ ì‹œ (ë©”ì´ì € ë²„ì „)
bin/create-version major "ìƒˆë¡œìš´ ìƒì‚° ê´€ë¦¬ ì‹œìŠ¤í…œ ì ìš©"
```

### ë°©ë²• 2: ìˆ˜ë™ìœ¼ë¡œ ìƒì„±

```bash
# 1. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
git add .
git commit -m "ë³€ê²½ì‚¬í•­ ì„¤ëª…"

# 2. íƒœê·¸ ìƒì„±
git tag -a v1.1.0 -m "ë³€ê²½ì‚¬í•­ ìš”ì•½"

# 3. í‘¸ì‹œ
git push origin main
git push --tags
```

## ë²„ì „ ë¡¤ë°±í•˜ê¸°

### ì•ˆì „í•œ ë¡¤ë°± (ì½”ë“œë§Œ, DBëŠ” ìœ ì§€)

```bash
# íŠ¹ì • ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
bin/rollback-version v1.0.0

# ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…:
# 1. í˜„ì¬ ìƒíƒœë¥¼ ë°±ì—… ë¸Œëœì¹˜ì— ì €ì¥
# 2. ì½”ë“œë¥¼ ì§€ì • ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
# 3. ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ (bundle install, yarn install)
# 4. CSS ì¬ë¹Œë“œ
# 5. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
```

### ë¡¤ë°± í›„ ì‘ì—…

```bash
# ì„œë²„ ì¬ì‹œì‘
bin/dev

# ì›ê²© ì €ì¥ì†Œì— ë°˜ì˜ (ì‹ ì¤‘í•˜ê²Œ!)
git push --force-with-lease

# ë¡¤ë°±ì´ ì˜ëª»ë˜ì—ˆë‹¤ë©´ ë³µêµ¬
git reset --hard backup-20240101-120000
```

## ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

### ì¤‘ìš” ì›ì¹™

âš ï¸ **ì½”ë“œ ë¡¤ë°± ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ì ˆëŒ€ ë¡¤ë°±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**

ì´ìœ :
- ì‹¤ì œ ìš´ì˜ ë°ì´í„° ì†ì‹¤ ë°©ì§€
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ ë°©ì§€
- ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€

### ë°ì´í„°ë² ì´ìŠ¤ì™€ í•¨ê»˜ ë¡¤ë°±ì´ í•„ìš”í•œ ê²½ìš°

```bash
# 1. í˜„ì¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
bin/rails db:migrate:status

# 2. ì½”ë“œ ë¡¤ë°±
bin/rollback-version v1.0.0

# 3. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ ë‹¤ì‹œ í™•ì¸
bin/rails db:migrate:status

# 4. í•„ìš”í•œ ê²½ìš° íŠ¹ì • ë§ˆì´ê·¸ë ˆì´ì…˜ë§Œ ë¡¤ë°± (ì‹ ì¤‘í•˜ê²Œ!)
bin/rails db:rollback STEP=1

# 5. ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ë³µì› (ì‹¬ê°í•œ ê²½ìš°)
# ìš´ì˜ í™˜ê²½ì´ë¼ë©´ ë°˜ë“œì‹œ ë°±ì—… í›„ ì§„í–‰
```

### ì•ˆì „í•œ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì „ëµ

```bash
# 1. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ì „ ë°±ì—…
cp storage/development.sqlite3 storage/development.sqlite3.backup

# 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
bin/rails db:migrate

# 3. ë¬¸ì œ ë°œìƒ ì‹œ ë°±ì—… ë³µì›
cp storage/development.sqlite3.backup storage/development.sqlite3
```

## ì‹¤ì „ ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ ê¸°ëŠ¥ ê°œë°œ ë° ë°°í¬

```bash
# 1. ìƒˆ ê¸°ëŠ¥ ê°œë°œ
# app/controllers/reports_controller.rb ìƒì„±
# app/views/reports/index.html.erb ìƒì„±

# 2. í…ŒìŠ¤íŠ¸
bin/rails test

# 3. ì»¤ë°‹
git add .
git commit -m "ì¬ê³  ë¦¬í¬íŠ¸ ê¸°ëŠ¥ ì¶”ê°€"

# 4. ë²„ì „ ìƒì„± (ë§ˆì´ë„ˆ ë²„ì „ ì¦ê°€)
bin/create-version minor "ì¬ê³  ë¦¬í¬íŠ¸ ê¸°ëŠ¥ ì¶”ê°€"
# v1.0.0 â†’ v1.1.0

# 5. ë°°í¬
git push origin main
git push --tags
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê¸´ê¸‰ ë²„ê·¸ ë°œê²¬ ë° ë¡¤ë°±

```bash
# 1. ì‹¬ê°í•œ ë²„ê·¸ ë°œê²¬!
# v1.2.0ì—ì„œ ë¡œê·¸ì¸ì´ ì•ˆ ë¨

# 2. ì´ì „ ì•ˆì • ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
bin/rollback-version v1.1.0

# 3. ì„œë²„ ì¬ì‹œì‘
bin/dev

# 4. ì›ê²© ì €ì¥ì†Œì— ë°˜ì˜
git push --force-with-lease

# 5. ë²„ê·¸ ìˆ˜ì • í›„ ì¬ë°°í¬
# ë²„ê·¸ ìˆ˜ì •...
git commit -m "ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •"
bin/create-version patch "ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •"
# v1.2.1 ìƒì„±
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì—¬ëŸ¬ ë³€ê²½ì‚¬í•­ ì‘ì—… ì¤‘

```bash
# 1. ì—¬ëŸ¬ ì»¤ë°‹ ì‘ì—…
git commit -m "UI ê°œì„ "
git commit -m "ì„±ëŠ¥ ìµœì í™”"
git commit -m "í…ŒìŠ¤íŠ¸ ì¶”ê°€"

# 2. ì™„ë£Œ í›„ í•œ ë²ˆì— ë²„ì „ ìƒì„±
bin/create-version minor "UI ê°œì„  ë° ì„±ëŠ¥ ìµœì í™”"

# 3. í‘¸ì‹œ
git push origin main
git push --tags
```

## ë²„ì „ íˆìŠ¤í† ë¦¬ í™•ì¸

```bash
# ìµœê·¼ 5ê°œ ë²„ì „ ë³´ê¸°
git tag -l --sort=-v:refname | head -5

# íŠ¹ì • ë²„ì „ì˜ ë³€ê²½ì‚¬í•­ ë³´ê¸°
git show v1.1.0

# ë‘ ë²„ì „ ê°„ ì°¨ì´ ë¹„êµ
git diff v1.0.0 v1.1.0

# íŠ¹ì • ë²„ì „ì˜ íŒŒì¼ ë³´ê¸°
git show v1.0.0:app/models/user.rb
```

## GitHub Releases í™œìš©

GitHub ì›¹ì‚¬ì´íŠ¸ì—ì„œ:

1. **Releases** íƒ­ í´ë¦­
2. **Draft a new release** í´ë¦­
3. íƒœê·¸ ì„ íƒ (ì˜ˆ: v1.1.0)
4. ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ ì‘ì„±:
   ```markdown
   ## v1.1.0 - ì¬ê³  ë¦¬í¬íŠ¸ ê¸°ëŠ¥ ì¶”ê°€

   ### ìƒˆë¡œìš´ ê¸°ëŠ¥
   - ì¬ê³  ë¦¬í¬íŠ¸ í™”ë©´ ì¶”ê°€
   - PDF/Excel ë‚´ë³´ë‚´ê¸° ì§€ì›

   ### ê°œì„ ì‚¬í•­
   - ì¬ê³  ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ

   ### ë²„ê·¸ ìˆ˜ì •
   - ì…ê³  ë‚ ì§œ í‘œì‹œ ì˜¤ë¥˜ ìˆ˜ì •
   ```
5. **Publish release** í´ë¦­

## ì£¼ì˜ì‚¬í•­

### âœ… ì•ˆì „í•œ ì‘ì—…

- ì½”ë“œ ë¡¤ë°± (ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìœ ì§€)
- íƒœê·¸ ìƒì„± ë° ê´€ë¦¬
- ë°±ì—… ë¸Œëœì¹˜ ìƒì„±
- ë²„ì „ ê°„ ë¹„êµ

### âš ï¸ ìœ„í—˜í•œ ì‘ì—…

- `git push --force` (ëŒ€ì‹  `--force-with-lease` ì‚¬ìš©)
- ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡¤ë°± (ì‹ ì¤‘í•˜ê²Œ!)
- ë°°í¬ëœ ë²„ì „ì˜ íƒœê·¸ ì‚­ì œ
- ë°±ì—… ì—†ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

### ğŸš« ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ

- ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ìˆ˜ì •
- ë°±ì—… ì—†ì´ ëŒ€ê·œëª¨ ë°ì´í„° ì‚­ì œ
- í˜‘ì—…ìì—ê²Œ ì•Œë¦¬ì§€ ì•Šê³  force push
- ë§ˆì´ê·¸ë ˆì´ì…˜ê³¼ ì½”ë“œë¥¼ ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ ìœ ì§€

## ë°±ì—… ì „ëµ

### ê°œë°œ í™˜ê²½

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
cp storage/development.sqlite3 storage/backups/dev-$(date +%Y%m%d).sqlite3

# ì½”ë“œ ë°±ì—… (ë°±ì—… ë¸Œëœì¹˜)
git branch backup-$(date +%Y%m%d-%H%M%S)
```

### ìš´ì˜ í™˜ê²½

```bash
# ì •ê¸° ë°±ì—… (cron ì„¤ì • ê¶Œì¥)
# ë§¤ì¼ ì˜¤ì „ 3ì‹œ ë°±ì—…
0 3 * * * cp storage/production.sqlite3 storage/backups/prod-$(date +\%Y\%m\%d).sqlite3

# ë²„ì „ ë°°í¬ ì „ ë°±ì—…
cp storage/production.sqlite3 storage/backups/before-v1.2.0.sqlite3
```

## ë¬¸ì œ í•´ê²°

### ë¡¤ë°± í›„ ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ

```bash
# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
bundle install
yarn install

# CSS ì¬ë¹Œë“œ
yarn build:css

# ì„œë²„ ì¬ì‹œì‘
bin/dev
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
bin/rails db:migrate:status

# íŠ¹ì • ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
bin/rails db:migrate:up VERSION=20241123000000

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì¬ì‹¤í–‰
bin/rails db:migrate:redo
```

### ë°±ì—… ë¸Œëœì¹˜ì—ì„œ ë³µêµ¬

```bash
# ë°±ì—… ë¸Œëœì¹˜ ëª©ë¡ ë³´ê¸°
git branch | grep backup

# íŠ¹ì • ë°±ì—…ìœ¼ë¡œ ë³µêµ¬
git reset --hard backup-20240101-120000

# ë°±ì—… ë¸Œëœì¹˜ ì‚­ì œ (ë³µêµ¬ ì™„ë£Œ í›„)
git branch -D backup-20240101-120000
```

## ì°¸ê³  ìë£Œ

- [Semantic Versioning](https://semver.org/lang/ko/)
- [Git ê¸°ë³¸ ê°€ì´ë“œ](https://git-scm.com/book/ko/v2)
- [Rails ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](https://guides.rubyonrails.org/active_record_migrations.html)

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-26
**ë¬¸ì„œ ë²„ì „**: 1.0
**í”„ë¡œì íŠ¸ ë²„ì „**: v1.0.0
