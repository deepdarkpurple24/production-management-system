<div class="card-modern">
  <div class="card-body p-0">
    <% if @pending_plans.any? %>
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead style="background-color: #f5f5f7; border-bottom: 1px solid #d2d2d7;">
            <tr>
              <th class="py-3 px-4" style="font-weight: 500; font-size: 0.875rem; width: 15%;">생산 날짜</th>
              <th class="py-3 px-4" style="font-weight: 500; font-size: 0.875rem; width: 30%;">완제품</th>
              <th class="py-3 px-4" style="font-weight: 500; font-size: 0.875rem; width: 25%;">레시피</th>
              <th class="py-3 px-4 text-center" style="font-weight: 500; font-size: 0.875rem; width: 15%;">계획 수량</th>
              <th class="py-3 px-4 text-center" style="font-weight: 500; font-size: 0.875rem; width: 15%;">작업 시작</th>
            </tr>
          </thead>
          <tbody>
            <% @pending_plans.each do |item| %>
              <tr style="border-bottom: 1px solid #e8e8ed;">
                <td class="py-3 px-4">
                  <%= item[:plan].production_date.strftime('%Y-%m-%d') %>
                  <br>
                  <small class="text-muted"><%= item[:plan].production_date.strftime('(%a)') %></small>
                </td>
                <td class="py-3 px-4">
                  <span style="font-weight: 500;"><%= item[:finished_product].name %></span>
                </td>
                <td class="py-3 px-4">
                  <% if item[:recipe].present? %>
                    <span style="font-weight: 500; color: #0071e3;"><%= item[:recipe].name %></span>
                  <% else %>
                    <span class="text-muted">레시피 없음</span>
                  <% end %>
                </td>
                <td class="py-3 px-4 text-center">
                  <span class="badge bg-secondary">
                    <%= number_with_delimiter(item[:plan].quantity) %>개
                  </span>
                </td>
                <td class="py-3 px-4 text-center">
                  <%= link_to new_production_log_path(
                        production_plan_id: item[:plan].id,
                        recipe_id: item[:recipe]&.id,
                        date: item[:plan].production_date
                      ),
                      class: "btn btn-sm btn-outline-primary" do %>
                    <i class="bi bi-play-fill me-1"></i>시작
                  <% end %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="text-center py-5">
        <i class="bi bi-calendar-check" style="font-size: 4rem; color: #d2d2d7;"></i>
        <h5 class="mt-4 mb-2" style="font-weight: 600; color: #86868b;">작업 대기중인 생산계획이 없습니다</h5>
        <p class="text-muted small">선택한 날짜에 작업 대기중인 생산계획이 없습니다.</p>
      </div>
    <% end %>
  </div>
</div>
